# RollingStone
 RollingStone

# 1주차 진행 사항
## 이동 시스템
* 플레이어의 입력을 받아서 이동하는 시스템.
* WASD로 이동.
* Shift로 대쉬, Space로 점프
## 지면 인식 시스템
* 지면에 9개의 Raycast를 통하여 지면에 닿아 있는 지를 확인한다.
* 닿아있다면 Event를 이용, 다른 클래스에 닿았다는 정보를 전달하도록 구성.
* **Trouble Shooting**
  * 공중으로 뛰어도 지면으로 판단하고 있던 문제 발생. → 확인 결과, 아예 지면 인식이 안되고 있었다.
    * Raycast의 위치 기준을 Player 개체의 원점으로 두었는데, 해당 원점이 캐릭터 중앙인 탓에 지면 인식이 안된 것.
    * 원점의 위치를 바닥으로 변경하여 해결함.
    * 추가로, Event 호출 함수에서 반대쪽 Event를 호출하고 있어서, 이를 추가로 수정함.
## 정면 장해물 인식 시스템
* 정면에 9개의 Raycast를 통하여 정면에 있는 장해물을 확인한다.
* 지면 인식 시스템과 마찬가지로, 장해물을 인식하면 Event로 클래스 간 통신을 시행하여 다른 클래스에도 해당 사항을 반영한다.
* **Trouble Shooting**
  * 지면과 마찬가지로, 원점이 개체 중앙이라서 제대로 작동 안하는 문제 → 지면 인식 시스템과 함께 수정.
  * 오른쪽에 장해물이 있다면 다른 방향으로 이동해도 이동을 못하던 문제 [= 이동 방향에 관계 없이 오른쪽에 있다면 장해물이 적용되는 문제]
    * 벨트 스크롤이라고 정면을 오른쪽으로 고정한 탓에, 다른 방향 이동이 전혀 적용되지 않고 있었다.
    * 정면 인식을 담당하는 원점용 오브젝트를 하나 만든 뒤, 해당 오브젝트를 회전시킬 부모 오브젝트를 만들어, 이동방향에 맞게 회전하도록 수정하여 해결함.
    * 추가로, 지면과 마찬가지로 여기도 Event 호출 함수에서 반대쪽 Event를 호출하고 있었다. 수정 완료.

# 2주차 진행 사항
## 이동 시스템
* 이동 시스템을 단일 스크립트에서 FSM으로 변경.
  * 장해물에 격돌했을 경우를 위한 Trumbling 상태 추가. [아직 미작업.]
* 장해물 인식 시스템
  * 장해물이 있는 경우의 이동 제한은 Collider로도 충분한 듯 하여 해당 기능을 제거했다. [이동 기능 리팩토링 결과 자연스럽게 소멸.]
  * 본래는 정면의 벽과 이동 방향 및 정면의 돌을 다른 동작으로 인식하기 위해서 FrontChecker와 DirectionChecker 2개의 컴포넌트를 작업했었다.
    * 이를 위해서 Raycast를 통해서 주위 환경을 확인하는 클래스들의 부모 클래스로 EnvironmentChecker 클래스를 추가로 작업하고 Refactoring을 실행하였다.
  * 현재는 CoiilsionChecker로 통일 하면서 FrontChecker와 DirectionChecker는 삭제하였고, EnvironmentChecker는 유지 중.
## 버그 수정 다수
* TLS Allocator ALLOC_TEMP_TLS 오류
  * Assets -> Reimfort All으로 수정.
* 내부 코딩 오류 다수 수정

# 3주차 진행 사항
## 장해물 시스템
* 돌(stone)
  * 화면 뒤에서 굴러오는 돌. 충돌 시 게임 오버.
  * 구름 상태에서는 점점 다가오게끔 구성되어 있음.
* 바위(Rock)
  * 필드 위에 비치된 장해물. 충돌 시 구름 상태로 전환된다.
    * 구름 상태에서는 일정 시간 조작이 불가하고, 돌이 점점 앞으로 다가온다.
## 화면 스크롤 기능 추가
* 시간에 따라서 화면 및 돌, 캐릭터의 속도가 빨라진다.
* 구름 상태에서는 스크롤 속도가 느려진다. [돌은 속도 유지]
* 실제로는 화면이 이동하고, 돌과 캐릭터는 하위 오브젝트로 묶여있는 관계.
## 개발 중인 사항
* 필드 스크롤
  * 코드는 작성되어 있으나, 버그로 인하여 작동하지를 않음.
  * 확인 결과, 이동의 기준점이 되는 스크립트(ScreenMover)의 gameObject를 가져오지 못하고 있음.
  * 현재 원인을 찾는 중.
